<div class="sidebar">
  <h3>Filters</h3>

  <div class="filter-section">
    <h4>Price</h4>
    <div class="price-inputs">
      <input
        type="number"
        [(ngModel)]="filters.priceRange.min"
        (input)="debouncedUpdateFilters()"
        placeholder="Min"
      />
      <span>-</span>
      <input
        type="number"
        [(ngModel)]="filters.priceRange.max"
        (input)="debouncedUpdateFilters()"
        placeholder="Max"
      />
    </div>
    <button class="go-button" (click)="updateFilters()">Go</button>
  </div>

  <div class="filter-section">
    <h4>Customer Rating</h4>
    @for (star of [4,3,2,1]; track star) {
    <div class="rating-option">
      <input
        type="radio"
        [id]="'star' + star"
        name="rating"
        [value]="star"
        [(ngModel)]="filters.rating"
        (change)="updateFilters()"
      />
      <label [for]="'star' + star">
        <span class="stars"
          >{{ "★".repeat(star) }}{{ "☆".repeat(5 - star) }}</span
        >
        & Up
      </label>
    </div>
    }
  </div>

  <div class="filter-section">
    <h4>Categories</h4>
    @for (category of categories; track category) {
    <div class="category-option">
      <input
        type="checkbox"
        [id]="category"
        [checked]="isCategorySelected(category)"
        (change)="toggleCategory(category)"
      />
      <label [for]="category">{{ category }}</label>
    </div>
    }
  </div>
</div>
